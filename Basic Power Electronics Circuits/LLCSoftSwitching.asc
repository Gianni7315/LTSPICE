Version 4
SHEET 1 1808 720
WIRE 112 48 -112 48
WIRE 400 48 112 48
WIRE 1344 48 1200 48
WIRE 1376 48 1376 16
WIRE 1376 48 1344 48
WIRE 1440 48 1376 48
WIRE 1520 48 1440 48
WIRE 1200 80 1200 48
WIRE 1344 80 1344 48
WIRE 64 128 32 128
WIRE 352 128 320 128
WIRE -112 160 -112 48
WIRE 112 192 112 144
WIRE 112 192 80 192
WIRE 528 192 112 192
WIRE 704 192 608 192
WIRE 832 192 832 160
WIRE 832 192 768 192
WIRE 944 192 832 192
WIRE 1200 192 1200 144
WIRE 1200 192 1120 192
WIRE 1440 224 1440 48
WIRE 1520 224 1520 48
WIRE 832 240 832 192
WIRE 944 240 944 192
WIRE 1120 240 1120 192
WIRE 400 336 400 144
WIRE 832 336 832 320
WIRE 832 336 400 336
WIRE 944 336 944 320
WIRE 944 336 832 336
WIRE 1120 336 1120 320
WIRE 1344 336 1344 144
WIRE 1344 336 1120 336
WIRE 112 352 112 192
WIRE 400 368 400 336
WIRE 1200 368 1200 192
WIRE 1344 368 1344 336
WIRE 64 432 32 432
WIRE 352 448 336 448
WIRE 1200 448 1200 432
WIRE 1344 448 1344 432
WIRE 1344 448 1200 448
WIRE 1440 448 1440 288
WIRE 1440 448 1344 448
WIRE 1520 448 1520 304
WIRE 1520 448 1440 448
WIRE 1440 464 1440 448
WIRE -112 480 -112 240
WIRE 112 480 112 448
WIRE 112 480 -112 480
WIRE 400 480 400 464
WIRE 400 480 112 480
WIRE 112 512 112 480
FLAG 832 160 Vo
FLAG 1376 16 Vo
FLAG 1440 464 0
FLAG 80 192 A
FLAG 400 336 B
FLAG 32 128 Vg1A
FLAG 336 448 Vg1B
FLAG 320 128 Vg2A
FLAG 32 432 Vg2B
FLAG 112 512 0
FLAG -48 -128 Vg1A
FLAG -48 -48 A
FLAG 48 -192 Vg1B
FLAG 48 -112 0
FLAG -48 560 Vg2A
FLAG -48 640 B
FLAG 576 560 Vg2B
FLAG 576 640 0
SYMBOL voltage -112 144 R0
SYMATTR InstName V1
SYMATTR Value 600
SYMBOL nmos 64 48 R0
SYMATTR InstName M1
SYMATTR Value Si7336ADP
SYMBOL nmos 352 48 R0
SYMATTR InstName M2
SYMATTR Value Si7336ADP
SYMBOL ind 624 176 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Lr1
SYMATTR Value {Lr}
SYMBOL cap 768 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {Cr}
SYMBOL ind 816 224 R0
SYMATTR InstName Lm1
SYMATTR Value {Lm}
SYMBOL ind2 928 336 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L1
SYMATTR Value 400m
SYMATTR Type ind
SYMBOL ind2 1136 336 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL nmos 64 352 R0
SYMATTR InstName M3
SYMATTR Value Si7336ADP
SYMBOL nmos 352 368 R0
SYMATTR InstName M4
SYMATTR Value Si7336ADP
SYMBOL diode 1216 144 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode 1360 144 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL diode 1216 432 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode 1360 432 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL cap 1424 224 R0
SYMATTR InstName C2
SYMATTR Value 1m
SYMBOL res 1504 208 R0
SYMATTR InstName R1
SYMATTR Value 0.25
SYMBOL voltage -48 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 0 1n 1n {D/Fs-td} {Ts})
SYMBOL voltage 48 -208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 0 1n 1n {D/Fs-td} {Ts})
SYMBOL voltage -48 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 5 {D/Fs} 1n 1n {(1-D)/Fs-td} {Ts})
SYMBOL voltage 576 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 5 {D/Fs} 1n 1n {(1-D)/Fs-td} {Ts})
TEXT 952 168 Left 2 ;600V to 30V
TEXT 584 56 Left 2 !.param Lr =2u\n.param Cr=60n\n.param Lm=100u
TEXT 576 -80 Left 2 !.param Fs=400k\n.param Ts=1/Fs\n.param D=0.5\n.param td=150n
